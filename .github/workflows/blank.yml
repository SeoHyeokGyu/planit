# ì›Œí¬í”Œë¡œìš°ì˜ ì´ë¦„
name: Project Board Discord Notifier

# ì‹¤í–‰ ì¡°ê±´: í”„ë¡œì íŠ¸ì˜ ì•„ì´í…œ(ì¹´ë“œ)ì´ ìƒì„±, ìˆ˜ì •, ì‚­ì œë  ë•Œ ì‹¤í–‰
on:
  project_v2_item:
    types: [created, edited, deleted]

jobs:
  notify-discord:
    runs-on: ubuntu-latest
    steps:
      # r-J-S-S/action-discord-notification ì´ë¼ëŠ” ê³µê°œëœ Actionì„ ì‚¬ìš©í•˜ì—¬ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.
      - name: Send notification for status change
        # ì¹´ë“œê°€ 'ìˆ˜ì •'ë˜ê³ , ë³€ê²½ëœ í•„ë“œê°€ 'Status'ì¼ ë•Œë§Œ ì´ ìŠ¤í…ì„ ì‹¤í–‰
        if: github.event.action == 'edited' && github.event.changes.field_value.field_name == 'Status'
        uses: r-J-S-S/action-discord-notification@v1
        with:
          webhook_url: ${{ secrets.DISCORD_WEBHOOK_URL }} # ì €ì¥í•´ ë‘” ë””ìŠ¤ì½”ë“œ ì›¹í›… ì£¼ì†Œ
          message: "ğŸ”„ **ìƒíƒœ ë³€ê²½**: `${{ github.actor }}`ë‹˜ì´ `${{ github.event.projects_v2_item.content.title }}` ì¹´ë“œë¥¼ **`${{ github.event.projects_v2_item.field_value.name }}`**(ìœ¼)ë¡œ ì˜®ê²¼ìŠµë‹ˆë‹¤."
