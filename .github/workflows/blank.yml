name: Discord Issue All Event Notifier

on:
  issues:
    # ì´ìŠˆì™€ ê´€ë ¨ëœ ëŒ€ë¶€ë¶„ì˜ ì£¼ìš” ì´ë²¤íŠ¸ë¥¼ ëª¨ë‘ í¬í•¨í•©ë‹ˆë‹¤.
    types: [opened, edited, deleted, transferred, closed, reopened, assigned, unassigned, labeled, unlabeled, milestoned, demilestoned, locked, unlocked]
    
jobs:
  notify_discord:
    runs-on: ubuntu-latest
    
    steps:
      - name: Send Discord Issue Notification
        uses: appleboy/discord-action@master
        with:
          # ğŸš¨ ìµœì¢… ì˜¤ë¥˜ í•´ê²°: IDì™€ Tokenì„ ë¶„ë¦¬ëœ Secretsë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
          webhook_id: ${{ secrets.DISCORD_WEBHOOK_ID }}
          webhook_token: ${{ secrets.DISCORD_WEBHOOK_TOKEN }}
          
          # ëª¨ë“  ì•Œë¦¼ ë‚´ìš©ì„ args(Embed JSON)ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
          args: |
            {
              "embeds": [
                {
                  "title": "${{ 
                    # ì´ìŠˆ ìƒíƒœ(Action)ì— ë”°ë¥¸ ë™ì  ì œëª© ì„¤ì •
                    github.event.action == 'opened'    && 'ğŸš¨ ìƒˆë¡œìš´ ì´ìŠˆ ë°œìƒ: #' ||
                    github.event.action == 'closed'    && 'âœ… ì´ìŠˆ í•´ê²°: #' ||
                    github.event.action == 'reopened'  && 'âš ï¸ ì´ìŠˆ ì¬ê°œ: #' ||
                    github.event.action == 'labeled'   && 'ğŸ·ï¸ ë¼ë²¨ ì¶”ê°€: #' ||
                    github.event.action == 'unlabeled' && 'ğŸ·ï¸ ë¼ë²¨ ì œê±°: #' ||
                    github.event.action == 'assigned'  && 'ğŸ‘¤ ë‹´ë‹¹ì ì§€ì •: #' ||
                    github.event.action == 'unassigned' && 'ğŸ‘¤ ë‹´ë‹¹ì í•´ì œ: #' ||
                    github.event.action == 'edited'    && 'âœï¸ ì´ìŠˆ ë‚´ìš© ìˆ˜ì •: #' ||
                    github.event.action == 'locked'    && 'ğŸ”’ ì´ìŠˆ ì ê¸ˆ: #' ||
                    github.event.action == 'unlocked'  && 'ğŸ”“ ì´ìŠˆ ì ê¸ˆ í•´ì œ: #' ||
                    'âš™ï¸ ì´ìŠˆ ì—…ë°ì´íŠ¸: #' 
                  }}${{ github.event.issue.number }}",
                  
                  "description": "**ì•¡ì…˜:** ${{ github.event.action }}\n**ì œëª©:** ${{ github.event.issue.title }}\n**ì²˜ë¦¬ì:** ${{ github.event.sender.login }}\n\n[ì´ìŠˆ ë°”ë¡œê°€ê¸°](${{ github.event.issue.html_url }})",
                  
                  "color": ${{ 
                    # ì´ìŠˆ ìƒíƒœ(Action)ì— ë”°ë¥¸ ë™ì  ìƒ‰ìƒ ì„¤ì • (10ì§„ìˆ˜)
                    github.event.action == 'opened'    && 16711680 || /* Red */
                    github.event.action == 'closed'    && 65280 ||    /* Green */
                    github.event.action == 'reopened'  && 16761088 || /* Orange */
                    github.event.action == 'edited'    && 16776960 || /* Yellow */
                    4390561                            /* Default Blue/Gray */
                  }},
                  
                  "timestamp": "${{ github.event.issue.updated_at }}"
                }
              ]
            }
