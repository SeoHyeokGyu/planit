name: Discord Issue Notifier

on:
  # ğŸš¨ ì´ìŠˆ ê´€ë ¨ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ ì´ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
  issues:
    types: [opened, reopened, closed, labeled]
  # (ì„ íƒ) PRì´ ì—´ë¦¬ê±°ë‚˜ ë‹«í ë•Œ ì•Œë¦¼ì„ ë°›ê³  ì‹¶ë‹¤ë©´ ì¶”ê°€í•©ë‹ˆë‹¤.
  # pull_request:
  #   types: [opened, closed]
    
jobs:
  notify_discord:
    runs-on: ubuntu-latest
    
    steps:
      - name: Send Discord Issue Notification
        # ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë²”ìš© Discord Webhook Actionì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
        uses: appleboy/discord-action@v1 
        with:
          # ğŸš¨ Discord ì›¹í›… URLì„ Secretsì— ì €ì¥í•˜ì—¬ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. (í•„ìˆ˜)
          webhook_id: ${{ secrets.DISCORD_WEBHOOK_ID }}
          webhook_token: ${{ secrets.DISCORD_WEBHOOK_TOKEN }}
          
          
          # Discordì— í‘œì‹œë  ë©”ì‹œì§€ ì œëª© (ì´ìŠˆ ì œëª© í™œìš©)
          title: "ğŸš¨ ìƒˆë¡œìš´ ì´ìŠˆ ë°œìƒ: #${{ github.event.issue.number }}"
          
          # Discordì— í‘œì‹œë  ë©”ì‹œì§€ ë‚´ìš© (ì´ìŠˆ ì œëª©, ì‘ì„±ì, ë§í¬ ë“± í™œìš©)
          message: |
            **ì´ìŠˆ ì œëª©:** ${{ github.event.issue.title }}
            **ì‘ì„±ì:** ${{ github.event.issue.user.login }}
            **ìƒíƒœ:** ${{ github.event.action }}
            **ë§í¬:** ${{ github.event.issue.html_url }}
          
          # Discord ì„ë² ë“œ ë©”ì‹œì§€ì˜ ìƒ‰ìƒ (ì´ë²¤íŠ¸ì— ë”°ë¼ ìƒ‰ìƒ ë³€ê²½ ê°€ëŠ¥)
          color: "FF0000" # ë¹¨ê°„ìƒ‰ (ìƒˆë¡œìš´ ì´ìŠˆ ì•Œë¦¼ìš©)
